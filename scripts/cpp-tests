# !! This script must run in project root folder (same path as MakeFile) !!
# Requirements: pystarport, supervisor, chain-maind, cronosd

cd scripts

script_dir=$(pwd)

# Stop chainmain
./chainmain-ctl stop

# Clear chainmain
./chainmain-ctl clear

# Start chainmain
./chainmain-ctl start

# Do cpp tests
cd ../
sleep 5
source ./scripts/.env
make cpp

cd $script_dir

# Stop chainmain
./chainmain-ctl stop

# Clear chainmain
./chainmain-ctl clear
